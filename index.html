<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <title>Hello, world!</title>
</head>

<body style="background-color: #2F4F4F;">
  <!-- Navbar -->
  <!--   <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">My Website</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Contact</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            More
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
      </ul>
    </div>
  </nav> -->


  <!-- Add your HTML here -->
  <h1 style="text-align: center;">Staying fit for seniors</h1>

  <p style="text-align: center;">Stay fit with a random fitness video every day.</p>

  <!-- YouTube Embed -->
  <div id="youtube-embed" style="text-align: center; margin-top: 20px;"">
    <!--     <iframe width=" 560" height="315" src="https://www.youtube.com/embed/leD-ReJpXa0" frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
  </div>

  <!-- YouTube URL Index -->
  <div id="youtube-url-index" style="text-align: center; margin-top: 5px;"></div>

  <!-- Workout Button -->
  <div style="text-align: center; margin-top: 20px;">
    <button id="workout-button" class="btn btn-primary">Different workout</button>
  </div>

  <!--   Video selection field  -->
  <form id="video-select-form" style="text-align: center; margin-top: 30px;">
    <label for="video-index-input">Manual selection:</label>
    <input type="number" style="width:50px" id="video-index-input" min="1" max="${youtubeURLs.length}">
    <button type="submit" class="btn btn-primary">Select</button>
  </form>

  <script>
    // Load YouTube URLs from videos.csv
    $.ajax({
      url: 'videos.csv',
      success: function (data) {
        // Split CSV into lines
        var lines = data.split('\n');

        // Split lines into cells
        var youtubeURLs = lines.map(function (line) {
          return line.split(',');
        });

        // Convert YouTube URLs to embed format
        youtubeURLs = youtubeURLs.map(function (url) {
          var videoId = url[0].split('watch?v=')[1];
          return 'https://www.youtube.com/embed/' + videoId;
        });

        // Display a random YouTube URL
        var index = Math.floor(Math.random() * youtubeURLs.length);
        $('#youtube-embed').html('<iframe width="560" height="315" src="' + youtubeURLs[index] + '" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');

        // Update YouTube URL index
        $('#youtube-url-index').text('Video number ' + (index + 1) + ' / ' + youtubeURLs.length);

        // Toggle YouTube Embed and Button Text
        $('#workout-button').click(function () {
          // Display a random YouTube URL
          var index;
          do {
            index = Math.floor(Math.random() * youtubeURLs.length);
          } while (youtubeURLs[index] === $('#youtube-embed iframe').attr('src'));
          $('#youtube-embed').html('<iframe width="560" height="315" src="' + youtubeURLs[index] + '" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');

          // Update YouTube URL index
          $('#youtube-url-index').text('Video number ' + (index + 1) + ' / ' + youtubeURLs.length);
        });


        $('#video-select-form').submit(function (event) {
          event.preventDefault();

          // Get selected video index
          var index = $('#video-index-input').val() - 1;

          // Update YouTube embed with selected URL
          $('#youtube-embed').html('<iframe width="560" height="315" src="' + youtubeURLs[index] + '" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');

          // Update YouTube URL index
          $('#youtube-url-index').text((index + 1) + ' / ' + youtubeURLs.length);
        });
      }
    });
  </script>








  <!--Optional JavaScript-->
  <!--jQuery first, then Popper.js, then Bootstrap JS-->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.16.6/dist/umd/popper.min.js"
    integrity="sha384-8l5W9KvHG4R4Yn2l8nCwSgvx5c5HHbqZn8pjK9tAclFc35zfP5OG8eHWxQ2QM1J" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
    crossorigin="anonymous"></script>
</body>

</html>